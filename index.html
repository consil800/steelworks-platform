<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title id="pageTitle">남경스틸(주) - 최고의 품질, 최상의 서비스</title>
  <meta name="description" content="대한민국 최고의 철강 전문 기업">
  <meta name="keywords" content="철강, 스틸, 강철, 제조업">

  <!-- Favicons -->
  <link href="logo.jpg" rel="icon">
  <link href="logo.jpg" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  
  <style>
    body { font-family: 'Noto Sans KR', sans-serif !important; }
    .login-btn { 
      background: #0066cc; 
      color: white; 
      padding: 8px 20px; 
      border-radius: 5px; 
      margin-left: 25px;
      text-decoration: none;
      transition: all 0.3s;
    }
    .login-btn:hover { 
      background: #0052a3; 
      color: white;
    }
    
    /* 사용자 프로필 스타일 */
    .user-profile {
      margin-left: 25px;
    }
    
    .profile-icon {
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 5px 10px;
      border-radius: 25px;
    }
    
    .profile-icon:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    .profile-icon img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #fff;
      margin-right: 8px;
    }
    
    .profile-name {
      color: #2c3e50;
      font-weight: 500;
      font-size: 14px;
    }
    
    /* 🎯 NAVIGATION MENU FIXES */
    .navmenu ul {
      display: flex;
      align-items: center;
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .navmenu > ul > li {
      white-space: nowrap;
      padding: 15px 16px; /* 균등한 간격 */
      position: relative;
    }
    
    .navmenu a {
      color: var(--nav-color, #2c3e50);
      padding: 12px 0;
      font-size: 16px;
      font-weight: 500;
      display: flex;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;
      transition: 0.3s;
      text-decoration: none;
    }
    
    /* 드롭다운 기본적으로 숨김 */
    .navmenu .dropdown ul {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 99;
      background-color: #ffffff;
      box-shadow: 0px 0px 30px rgba(44, 62, 80, 0.15);
      padding: 10px 0;
      border-radius: 6px;
      min-width: 180px;
    }
    
    /* 드롭다운 호버 시 보이기 */
    .navmenu .dropdown:hover > ul {
      display: block;
    }
    
    .navmenu .dropdown ul li {
      padding: 0;
    }
    
    .navmenu .dropdown ul a {
      padding: 10px 20px;
      font-size: 15px;
      color: #2c3e50;
      border: none;
    }
    
    .navmenu .dropdown ul a:hover {
      color: #3498db;
      background-color: #f8f9fa;
    }
    
    /* 모바일 네비게이션에서도 드롭다운 처리 */
    @media (max-width: 1199px) {
      .navmenu .dropdown ul {
        position: static;
        display: none;
        z-index: 99;
        padding: 10px 0;
        margin: 10px 20px;
        background-color: #ffffff;
        border: 1px solid #e9ecef;
        box-shadow: none;
        border-radius: 6px;
      }
      
      .navmenu .dropdown.active > ul {
        display: block;
      }
    }
    
    /* 🎯 HERO SECTION STYLES */
    #hero {
      background: #000000 !important;
      background-image: none !important;
    }
    
    #heroImagePlaceholder {
      background: #000000 !important;
      opacity: 1 !important;
    }
  </style>
  
  <!-- Font Awesome for icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <h1 class="sitename" id="companyNameHeader">남경스틸(주)</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="#hero" class="active">홈</a></li>
          <li><a href="#about">회사소개</a></li>
          <li><a href="#services">제품·서비스</a></li>
          <li><a href="#team">임직원</a></li>
          <li class="dropdown"><a href="#"><span>고객지원</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="product-inquiry.html">제품문의</a></li>
              <li><a href="technical-support.html">기술지원</a></li>
            </ul>
          </li>
          <li><a href="#contact">문의하기</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <!-- 로그인 전 버튼 -->
      <a class="login-btn" href="login.html" id="mainLoginBtn">
        <i class="bi bi-person-circle"></i> <span id="loginBtnText">로그인</span>
      </a>
      
      <!-- 로그인 후 프로필 아이콘 -->
      <div class="user-profile" id="userProfile" style="display: none;">
        <div class="profile-icon" onclick="showProfileModal()">
          <img id="profileImage" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+" alt="프로필" />
          <span class="profile-name" id="profileName">사용자</span>
        </div>
      </div>

    </div>
  </header>

  <main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section dark-background">
      <div class="container" data-aos="fade-up">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="hero-content" data-aos="fade-up" data-aos-delay="100">
              <div class="hero-tag">
                <i class="bi bi-gear-fill"></i>
                <span id="heroTag">철강 산업의 리더</span>
              </div>
              <h1 id="heroTitle">최고의 <span class="highlight">품질</span>과 <span class="highlight">기술력</span>으로 미래를 만듭니다</h1>
              <p class="lead" id="heroDescription">12년 전통의 기술력과 혁신으로 대한민국 철강 산업을 선도하는<br><span style="color: #0052a3; font-size: 1.3em; font-weight: bold;">남경스틸(주)</span>입니다.</p>
              <ul class="hero-features">
                <li><i class="bi bi-check-circle"></i> <span>ISO 9001 품질경영시스템 인증</span></li>
                <li><i class="bi bi-check-circle"></i> <span>연간 10만톤 생산 능력</span></li>
                <li><i class="bi bi-check-circle"></i> <span>24시간 고객 기술지원</span></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="hero-image" data-aos="zoom-out" data-aos-delay="200">
              <div id="heroImagePlaceholder" class="image-placeholder" style="border: none; padding: 0; text-align: center; height: 400px; display: flex; align-items: center; justify-content: center; background: #000000; overflow: hidden; border-radius: 10px;">
                <img src="namkyung.png" 
                     style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" 
                     alt="Scout 히어로 이미지">
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Hero Section -->

    <!-- Stats Section -->
    <section id="stats" class="stats section light-background">
      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="row">
          <div class="col-lg-3 col-md-6">
            <div class="stats-item">
              <i class="bi bi-building"></i>
              <span id="stat1Number">12년</span>
              <p><span id="stat1Desc">업계 경력</span></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stats-item">
              <i class="bi bi-people"></i>
              <span id="stat2Number">30명</span>
              <p><span id="stat2Desc">전문 인력</span></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stats-item">
              <i class="bi bi-globe"></i>
              <span id="stat3Number">10개국</span>
              <p><span id="stat3Desc">수출 국가</span></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stats-item">
              <i class="bi bi-award"></i>
              <span id="stat4Number">10개</span>
              <p><span id="stat4Desc">품질 인증</span></p>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Stats Section -->

    <!-- About Section -->
    <section id="about" class="about section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 position-relative" data-aos="fade-up" data-aos-delay="100">
            <div class="image-placeholder" style="border: 2px dashed #ccc; padding: 0; text-align: center; height: 350px; display: flex; align-items: center; justify-content: center; background: #f9f9f9; position: relative; border-radius: 10px; overflow: hidden;">
              <img src="coil.jpg" 
                   style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" 
                   alt="철강 코일 이미지">
            </div>
          </div>
          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
            <h2 class="section-title" id="aboutTitle">대한민국 철강 산업의 <span class="accent">자부심</span></h2>
            <p id="aboutDescription">남경스틸(주)는 2014년 설립 이래 12년간 대한민국 철강 산업의 발전과 함께 성장해왔습니다. 최첨단 설비와 우수한 기술력을 바탕으로 최고 품질의 철강 제품을 생산하고 있습니다.</p>
            <ul class="about-list">
              <li><i class="bi bi-check2-circle"></i> <span>연간 10만톤 이상의 생산 능력 보유</span></li>
              <li><i class="bi bi-check2-circle"></i> <span>친환경 공정으로 탄소 배출 30% 감축</span></li>
              <li><i class="bi bi-check2-circle"></i> <span>글로벌 10개국 수출 네트워크 구축</span></li>
            </ul>
            <div class="about-cta">
              <a href="starter-page.html" class="btn btn-primary">더 알아보기</a>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /About Section -->

    <!-- Services Section -->
    <section id="services" class="services section light-background">
      <div class="container section-title" data-aos="fade-up">
        <span class="section-subtitle">제품 & 서비스</span>
        <h2 id="servicesTitle">최고 품질의 <span class="accent">철강 솔루션</span></h2>
        <p id="servicesSubtitle">고객의 다양한 요구에 맞춘 맞춤형 철강 제품과 서비스를 제공합니다</p>
      </div>

      <div class="container">
        <div class="row g-4" id="servicesContainer">
          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
            <div class="service-item d-flex">
              <div class="icon flex-shrink-0"><i class="bi bi-gear-wide-connected"></i></div>
              <div>
                <h4 class="title">열연강판</h4>
                <p class="description">자동차, 건설, 조선 등 다양한 산업 분야에 사용되는 고품질 열연강판을 생산합니다.</p>
                <a href="service1-details.html" class="readmore stretched-link"><span>자세히 보기</span> <i class="bi bi-arrow-right"></i></a>
              </div>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
            <div class="service-item d-flex">
              <div class="icon flex-shrink-0"><i class="bi bi-layers"></i></div>
              <div>
                <h4 class="title">냉연강판</h4>
                <p class="description">가전제품, 자동차 외판 등 정밀한 가공이 필요한 분야에 최적화된 냉연강판입니다.</p>
                <a href="service2-details.html" class="readmore stretched-link"><span>자세히 보기</span> <i class="bi bi-arrow-right"></i></a>
              </div>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="300">
            <div class="service-item d-flex">
              <div class="icon flex-shrink-0"><i class="bi bi-shield-check"></i></div>
              <div>
                <h4>특수강</h4>
                <p>내열강, 내식강 등 특수한 용도에 맞춘 고기능성 특수강 제품을 공급합니다.</p>
                <a href="service3-details.html" class="readmore stretched-link"><span>자세히 보기</span> <i class="bi bi-arrow-right"></i></a>
              </div>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-up" data-aos-delay="400">
            <div class="service-item d-flex">
              <div class="icon flex-shrink-0"><i class="bi bi-tools"></i></div>
              <div>
                <h4>맞춤 가공</h4>
                <p>고객의 요구에 맞춘 절단, 성형, 표면처리 등 다양한 가공 서비스를 제공합니다.</p>
                <a href="service4-details.html" class="readmore stretched-link"><span>자세히 보기</span> <i class="bi bi-arrow-right"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Services Section -->

    <!-- Call To Action Section -->
    <section id="call-to-action" class="call-to-action section dark-background">
      <div class="container" data-aos="zoom-out">
        <div class="row">
          <div class="col-lg-9 text-center text-lg-start">
            <h3 id="ctaTitle">철강 솔루션이 필요하신가요?</h3>
            <p id="ctaDescription">12년 전통의 기술력과 노하우로 최적의 철강 솔루션을 제공합니다. 전문 상담사가 친절하게 안내해드립니다.</p>
          </div>
          <div class="col-lg-3 cta-btn-container text-center">
            <a href="#contact" id="ctaButton">무료 상담 신청</a>
          </div>
        </div>
      </div>
    </section><!-- /Call To Action Section -->

    <!-- Team Section -->
    <section id="team" class="team section">
      <div class="container section-title" data-aos="fade-up">
        <span>경영진</span>
        <h2 id="teamTitle">철강 전문가 <span class="accent">리더십</span></h2>
        <p id="teamSubtitle">풍부한 경험과 전문성을 갖춘 경영진이 남경스틸(주)의 미래를 이끌어갑니다</p>
      </div>

      <div class="container">
        <div class="row gy-5" id="teamContainer">
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
            <div class="member">
              <div class="pic">
                <div style="border: 2px dashed #ccc; padding: 20px; text-align: center; min-height: 300px; display: flex; align-items: center; justify-content: center; background: #f9f9f9;">
                  <div>
                    <i class="bi bi-person" style="font-size: 3rem; color: #666; margin-bottom: 10px;"></i>
                    <p style="color: #666; margin: 0;">인물 사진 추가</p>
                  </div>
                </div>
              </div>
              <div class="member-info">
                <h4>문상혁</h4>
                <span>대표이사</span>
                <p>20년간 철강 업계에서 쌓은 경험으로 회사를 이끌고 있습니다.</p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
            <div class="member">
              <div class="pic">
                <div style="border: 2px dashed #ccc; padding: 20px; text-align: center; min-height: 300px; display: flex; align-items: center; justify-content: center; background: #f9f9f9;">
                  <div>
                    <i class="bi bi-person" style="font-size: 3rem; color: #666; margin-bottom: 10px;"></i>
                    <p style="color: #666; margin: 0;">인물 사진 추가</p>
                  </div>
                </div>
              </div>
              <div class="member-info">
                <h4>장용호</h4>
                <span>영업이사</span>
                <p>업체 관리와 품질 관리를 총괄하고 있습니다.</p>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
            <div class="member">
              <div class="pic">
                <div style="border: 2px dashed #ccc; padding: 20px; text-align: center; min-height: 300px; display: flex; align-items: center; justify-content: center; background: #f9f9f9;">
                  <div>
                    <i class="bi bi-person" style="font-size: 3rem; color: #666; margin-bottom: 10px;"></i>
                    <p style="color: #666; margin: 0;">인물 사진 추가</p>
                  </div>
                </div>
              </div>
              <div class="member-info">
                <h4>윤가비</h4>
                <span>관리실장</span>
                <p>해외 수출 관리와 자금 관리를 담당합니다.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Team Section -->


    <!-- Contact Section -->
    <section id="contact" class="contact section">
      <div class="container section-title" data-aos="fade-up">
        <span id="contactSubtitle">문의하기</span>
        <h2 id="contactTitle">언제든지 <span class="accent">연락주세요</span></h2>
        <p id="contactDescription">철강 전문가가 신속하고 정확하게 답변해드립니다</p>
      </div>

      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="row">
          <div class="col-lg-5">
            <div class="info-wrap">
              <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="200">
                <i class="bi bi-geo-alt flex-shrink-0"></i>
                <div>
                  <h3>본사 위치</h3>
                  <p id="contactAddress">부산시 사상구 낙동대로 832</p>
                </div>
              </div>

              <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="300">
                <i class="bi bi-telephone flex-shrink-0"></i>
                <div>
                  <h3>대표전화</h3>
                  <p id="contactPhone">051-314-9701</p>
                </div>
              </div>

              <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="400">
                <i class="bi bi-envelope flex-shrink-0"></i>
                <div>
                  <h3>이메일</h3>
                  <p id="contactEmail">namkyungst@naver.com</p>
                </div>
              </div>

              <div id="map-container" style="margin-top: 20px;" data-aos="fade-up" data-aos-delay="500">
                <iframe style="border:0; width: 100%; height: 270px; border-radius: 4px;" 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3268.123456789!2d128.9718085!3d35.1350758!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3568c2197ce8f607%3A0x40c8698884bdc4eb!2z67aA7IKw6rSR7Jet7IucIOyCrOyDgOq1rCDrgZzrj5nrjIDroZwgODMy!5e0!3m2!1sko!2skr!4v1671234567890!5m2!1sko!2skr" 
                        frameborder="0" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade"
                        title="부산광역시 사상구 낙동대로 832 위치">
                </iframe>
              </div>
            </div>
          </div>

          <div class="col-lg-7">
            <div class="contact-form-container" style="background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
              <div style="text-align: center; margin-bottom: 30px;">
                <h3 style="color: #333; margin-bottom: 10px;">온라인 문의</h3>
                <p style="color: #777; margin: 0;">궁금한 사항이 있으시면 언제든지 문의해 주세요</p>
              </div>
              
              <form id="contact-form" action="#" method="post">
                <div class="row gy-4">
                  <div class="col-md-6">
                    <input type="text" name="name" id="name" class="form-control" placeholder="이름을 입력해주세요" required>
                  </div>
                  
                  <div class="col-md-6">
                    <input type="email" name="email" id="email" class="form-control" placeholder="이메일을 입력해주세요" required>
                  </div>
                  
                  <div class="col-12">
                    <input type="text" name="subject" id="subject" class="form-control" placeholder="문의 제목을 입력해주세요" required>
                  </div>
                  
                  <div class="col-12">
                    <textarea name="message" id="message" rows="6" class="form-control" placeholder="문의 내용을 상세히 입력해주세요" required></textarea>
                  </div>
                  
                  <div class="col-12 text-center">
                    <div class="loading" style="display: none;">전송 중...</div>
                    <div class="error-message" style="display: none; color: #dc3545; margin: 10px 0;"></div>
                    <div class="sent-message" style="display: none; color: #10b981; margin: 10px 0;">문의가 성공적으로 전송되었습니다. 감사합니다!</div>
                    
                    <button type="submit" class="btn btn-primary" style="background: #0066cc; border: none; padding: 12px 30px; border-radius: 5px; font-weight: 500;">
                      문의하기
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Contact Section -->

  </main>

  <footer id="footer" class="footer dark-background">
    <div class="container footer-top">
      <div class="row">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span>남경스틸(주)</span>
          </a>
          <p>12년 전통의 기술력으로 대한민국 철강 산업을 선도하는 기업</p>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>빠른 링크</h4>
          <ul>
            <li><a href="#about">회사소개</a></li>
            <li><a href="#services">제품안내</a></li>
            <li><a href="service1-details.html">기술자료</a></li>
            <li><a href="#contact">고객지원</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>제품</h4>
          <ul>
            <li><a href="service1-details.html">열연강판</a></li>
            <li><a href="service2-details.html">냉연강판</a></li>
            <li><a href="service3-details.html">특수강</a></li>
            <li><a href="service4-details.html">맞춤가공</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-6 footer-contact">
          <h4>연락처</h4>
          <p id="footerAddress">부산광역시 사상구 낙동대로 832<br>남경스틸(주)</p>
          <p><strong>전화:</strong> <span id="footerPhone">051-314-9701</span></p>
          <p><strong>이메일:</strong> <span id="footerEmail">namkyungst@naver.com</span></p>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div class="copyright text-center">
        <p id="dynamicCopyright">© 2025 남경스틸(주) All Rights Reserved</p>
      </div>
    </div>

  </footer>


  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
  <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

  <!-- Main Template JS File -->
  <script src="assets/js/main.js"></script>
  
  <!-- Authentication Scripts -->
  <script src="shared-assets/js/auth.js"></script>
  <script src="shared-assets/js/template-login.js"></script>

  <!-- Initialize AOS and PureCounter -->
  <script>
    // Initialize AOS (Animation on Scroll)
    if (typeof AOS !== 'undefined') {
      AOS.init({
        duration: 600,
        easing: 'ease-in-out',
        once: true,
        mirror: false
      });
    }
    
    // Initialize PureCounter
    if (typeof PureCounter !== 'undefined') {
      new PureCounter();
    }
    
    // 드롭다운 메뉴 클릭 기능 (모바일용)
    document.addEventListener('DOMContentLoaded', function() {
      const dropdownToggles = document.querySelectorAll('.toggle-dropdown');
      
      dropdownToggles.forEach(function(toggle) {
        toggle.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          const dropdown = this.closest('.dropdown');
          const isActive = dropdown.classList.contains('active');
          
          // 다른 모든 드롭다운 닫기
          document.querySelectorAll('.dropdown.active').forEach(function(activeDropdown) {
            if (activeDropdown !== dropdown) {
              activeDropdown.classList.remove('active');
            }
          });
          
          // 현재 드롭다운 토글
          dropdown.classList.toggle('active', !isActive);
        });
      });
      
      // 외부 클릭 시 드롭다운 닫기
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.dropdown')) {
          document.querySelectorAll('.dropdown.active').forEach(function(dropdown) {
            dropdown.classList.remove('active');
          });
        }
      });
    });
    
    // Initialize Swiper if needed
    if (typeof Swiper !== 'undefined') {
      const swiper = new Swiper('.swiper', {
        loop: true,
        autoplay: {
          delay: 5000,
        },
        breakpoints: {
          320: {
            slidesPerView: 2,
            spaceBetween: 40
          },
          480: {
            slidesPerView: 3,
            spaceBetween: 60
          },
          640: {
            slidesPerView: 4,
            spaceBetween: 80
          },
          992: {
            slidesPerView: 6,
            spaceBetween: 120
          }
        }
      });
    }
  </script>

  <!-- 프로필 모달 -->
  <div class="modal" id="profileModal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>프로필 설정</h2>
        <button class="close-btn" onclick="hideProfileModal()">&times;</button>
      </div>
      
      <div class="modal-body">
        <div class="profile-section">
          <div class="profile-image-section">
            <div class="current-profile-image">
              <img id="modalProfileImage" src="" alt="프로필 이미지" />
            </div>
            <div class="profile-image-upload">
              <input type="file" id="profileImageInput" accept="image/*" style="display: none;" onchange="handleProfileImageUpload(event)">
              <button type="button" onclick="document.getElementById('profileImageInput').click()">이미지 변경</button>
            </div>
          </div>
          
          <form id="profileForm">
            <div class="form-group">
              <label>이름</label>
              <input type="text" id="profileUserName" readonly>
            </div>
            
            <div class="form-group">
              <label>이메일</label>
              <input type="email" id="profileUserEmail" readonly>
            </div>
            
            <div class="form-group">
              <label>부서</label>
              <input type="text" id="profileUserDepartment" readonly>
            </div>
            
            <div class="form-group">
              <label>직책</label>
              <input type="text" id="profileUserPosition" readonly>
            </div>
          </form>
        </div>
        
        <div class="password-section">
          <h3>비밀번호 변경</h3>
          <form id="passwordChangeForm">
            <div class="form-group">
              <label>현재 비밀번호</label>
              <input type="password" id="currentPassword" required>
            </div>
            
            <div class="form-group">
              <label>새 비밀번호</label>
              <input type="password" id="newPassword" required minlength="6">
            </div>
            
            <div class="form-group">
              <label>새 비밀번호 확인</label>
              <input type="password" id="confirmPassword" required>
            </div>
            
            <button type="submit" class="btn-change-password">비밀번호 변경</button>
          </form>
        </div>
      </div>
      
      <div class="modal-footer">
        <button onclick="logout()" class="btn-logout">로그아웃</button>
        <button onclick="hideProfileModal()" class="btn-close">닫기</button>
      </div>
    </div>
  </div>

  <style>
    /* 프로필 모달 스타일 */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background: white;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      max-height: 80%;
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid #eee;
    }
    
    .modal-header h2 {
      margin: 0;
      color: #333;
    }
    
    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #999;
    }
    
    .modal-body {
      padding: 20px;
    }
    
    .profile-image-section {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .current-profile-image img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #667eea;
      margin-bottom: 15px;
    }
    
    .profile-image-upload button {
      background: #667eea;
      color: white;
      border: none;
      padding: 8px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #333;
    }
    
    .form-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    
    .form-group input[readonly] {
      background: #f5f5f5;
    }
    
    .password-section {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .password-section h3 {
      margin-bottom: 20px;
      color: #333;
    }
    
    .btn-change-password {
      width: 100%;
      background: #28a745;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    
    .btn-change-password:hover {
      background: #218838;
    }
    
    .modal-footer {
      display: flex;
      justify-content: space-between;
      padding: 20px;
      border-top: 1px solid #eee;
    }
    
    .btn-logout {
      background: #dc3545;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    
    .btn-logout:hover {
      background: #c82333;
    }
    
    .btn-close {
      background: #6c757d;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    
    .btn-close:hover {
      background: #545b62;
    }
  </style>

  <script>
    // 로그인 상태 확인 및 프로필 표시
    function checkLoginStatus() {
      const currentUser = localStorage.getItem('currentUser');
      if (currentUser) {
        const user = JSON.parse(currentUser);
        showUserProfile(user);
      }
    }
    
    // 사용자 프로필 표시
    function showUserProfile(user) {
      document.getElementById('mainLoginBtn').style.display = 'none';
      document.getElementById('userProfile').style.display = 'block';
      document.getElementById('profileName').textContent = user.name || user.username;
      
      // 프로필 이미지 설정
      const profileImage = user.profileImage || generateDefaultAvatar(user.name);
      document.getElementById('profileImage').src = profileImage;
    }
    
    // 기본 아바타 생성
    function generateDefaultAvatar(name) {
      const initial = name ? name.charAt(0).toUpperCase() : '👤';
      return `data:image/svg+xml;base64,${btoa(`
        <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
          <circle cx="20" cy="20" r="20" fill="#667eea"/>
          <text x="20" y="26" font-family="Arial" font-size="16" fill="white" text-anchor="middle">${initial}</text>
        </svg>
      `)}`;
    }
    
    // 프로필 모달 표시
    function showProfileModal() {
      const currentUser = JSON.parse(localStorage.getItem('currentUser'));
      if (!currentUser) return;
      
      // 프로필 정보 채우기
      document.getElementById('profileUserName').value = currentUser.name || '';
      document.getElementById('profileUserEmail').value = currentUser.email || '';
      document.getElementById('profileUserDepartment').value = currentUser.department || '';
      document.getElementById('profileUserPosition').value = currentUser.position || '';
      
      const profileImage = currentUser.profileImage || generateDefaultAvatar(currentUser.name);
      document.getElementById('modalProfileImage').src = profileImage;
      
      document.getElementById('profileModal').style.display = 'flex';
    }
    
    // 프로필 모달 숨기기
    function hideProfileModal() {
      document.getElementById('profileModal').style.display = 'none';
      // 폼 초기화
      document.getElementById('passwordChangeForm').reset();
    }
    
    // 프로필 이미지 업로드
    function handleProfileImageUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      // 파일 크기 제한 (2MB)
      if (file.size > 2 * 1024 * 1024) {
        alert('이미지 크기는 2MB 이하여야 합니다.');
        return;
      }
      
      // 이미지 파일 확인
      if (!file.type.startsWith('image/')) {
        alert('이미지 파일만 업로드 가능합니다.');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = async function(e) {
        const imageData = e.target.result;
        
        try {
          const currentUser = JSON.parse(localStorage.getItem('currentUser'));
          
          // 데이터베이스에 프로필 이미지 저장
          if (window.db && window.db.updateUser) {
            const result = await window.db.updateUser(currentUser.id, {
              profile_image: imageData
            });
            
            if (result.success) {
              // 로컬 스토리지 업데이트
              currentUser.profileImage = imageData;
              localStorage.setItem('currentUser', JSON.stringify(currentUser));
              
              // UI 업데이트
              document.getElementById('modalProfileImage').src = imageData;
              document.getElementById('profileImage').src = imageData;
              
              alert('프로필 이미지가 변경되었습니다.');
            } else {
              alert('프로필 이미지 저장에 실패했습니다: ' + result.error);
            }
          } else {
            // 데이터베이스 연결이 없는 경우 로컬 스토리지만 사용
            currentUser.profileImage = imageData;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // UI 업데이트
            document.getElementById('modalProfileImage').src = imageData;
            document.getElementById('profileImage').src = imageData;
            
            alert('프로필 이미지가 변경되었습니다. (로컬 저장)');
          }
        } catch (error) {
          console.error('프로필 이미지 저장 오류:', error);
          alert('프로필 이미지 저장 중 오류가 발생했습니다.');
        }
      };
      reader.readAsDataURL(file);
    }
    
    // 비밀번호 변경
    document.getElementById('passwordChangeForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const currentPassword = document.getElementById('currentPassword').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      if (newPassword !== confirmPassword) {
        alert('새 비밀번호와 확인 비밀번호가 일치하지 않습니다.');
        return;
      }
      
      if (newPassword.length < 6) {
        alert('비밀번호는 최소 6자 이상이어야 합니다.');
        return;
      }
      
      try {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        
        // 데이터베이스에서 비밀번호 변경 (실제 구현 필요)
        if (window.db && window.db.updateUser) {
          const result = await window.db.updateUser(currentUser.id, {
            password: newPassword // 실제로는 해싱이 필요
          });
          
          if (result.success) {
            alert('비밀번호가 변경되었습니다.');
            document.getElementById('passwordChangeForm').reset();
          } else {
            alert('비밀번호 변경에 실패했습니다: ' + result.error);
          }
        } else {
          alert('데이터베이스 연결이 필요합니다.');
        }
      } catch (error) {
        console.error('비밀번호 변경 오류:', error);
        alert('비밀번호 변경 중 오류가 발생했습니다.');
      }
    });
    
    // 로그아웃
    function logout() {
      localStorage.removeItem('currentUser');
      localStorage.removeItem('userRole');
      localStorage.removeItem('userName');
      
      // UI 업데이트
      document.getElementById('mainLoginBtn').style.display = 'block';
      document.getElementById('userProfile').style.display = 'none';
      hideProfileModal();
      
      alert('로그아웃되었습니다.');
    }
    
    // 페이지 로드 시 로그인 상태 확인
    document.addEventListener('DOMContentLoaded', function() {
      checkLoginStatus();
    });
  </script>

</body>
</html>